# UtaMemo

カラオケのレパートリーを管理するWebアプリケーションです。

## 概要

UtaMemoは、カラオケで歌う曲のレパートリーを効率的に管理するためのアプリです。Spotify APIを活用した楽曲検索機能や、お気に入り・上達度・キー調整などの機能を備えています。

カラオケブースは暗めの照明環境であることを考慮し、目に優しいダークモード（黒背景・白文字）のデザインを採用しています。

## 主な機能

### レパートリー管理
- レパートリーの一覧表示（更新日時順）
- レパートリーの追加・編集・削除（CRUD操作）
- お気に入り機能（ハートをクリックで優先表示）
- 上達度の管理（0〜3の星でカテゴライズ）
- 歌いやすいキーの設定（フラット7からシャープ7まで）

### 楽曲検索
- Spotify APIを利用した楽曲検索
- 曲名・歌手名での検索に対応
- リアルタイム検索結果表示（文字入力連動）
- 検索結果からワンクリックでレパートリーに追加
- 検索結果は最大10件まで表示

### ソート・絞り込み機能
- 全曲表示（ALL）
- お気に入りのみ表示
- 上達度別での絞り込み（☆3、☆2、☆1、☆0）
- 上達度でのソート

## 技術スタック

### バックエンド
- **PHP 8.2+**
- **Laravel 12.0**
- **SQLite**（データベース）

### フロントエンド
- **Vue.js 3.5**
- **Vue Router 4.6**
- **Tailwind CSS 4.0**
- **Vite 7.0**（ビルドツール）

### 外部API
- **Spotify Web API**（楽曲検索）

## データベース設計

### ユーザーテーブル
- ゲスト専用ユーザー管理
- タイムスタンプ（created_at, updated_at）

### 曲テーブル
- アルバム画像（リンク参照）
- 曲名
- 歌手名
- お気に入り（true/false）
- 上達度（0〜3、デフォルト0、0は「標準」と表記）
- キー（-7〜+7、デフォルト0）
- タイムスタンプ（created_at, updated_at）

## ページ構成

1. **一覧ページ**
   - レパートリーの一覧表示（更新日時順）
   - 絞り込み・ソート機能

2. **曲検索＆追加ページ**
   - Spotify APIを利用した楽曲検索
   - リアルタイム検索結果表示
   - 検索結果からレパートリーへの追加

3. **曲詳細＆編集ページ**
   - 曲の詳細情報表示
   - お気に入り、上達度、キーの編集
   - レパートリーの削除

## デザイン

カラオケブースの暗めの照明環境に配慮し、**黒背景・白文字**のデザインを採用しています。

## セットアップ

### 必要な環境
- PHP 8.2以上
- Composer
- Node.js 18以上
- npm

### インストール手順

1. リポジトリをクローン
```bash
git clone <repository-url>
cd UtaMemo
```

2. 依存関係のインストール
```bash
composer install
npm install
```

3. 環境変数の設定
```bash
cp .env.example .env
php artisan key:generate
```

4. データベースのセットアップ
```bash
php artisan migrate
```

5. Spotify APIの設定
`.env`ファイルにSpotify APIの認証情報を設定してください。

6. 開発サーバーの起動
```bash
# LaravelサーバーとViteの同時起動
composer run dev
```

または個別に起動する場合：
```bash
# Laravelサーバー
php artisan serve

# Vite（別ターミナル）
npm run dev
```

## アクセス方法

### 開発環境
開発環境では `/appname/` でアプリケーションにアクセスします。

### 本番環境
デプロイ時は `/utamemo/public` 配下でアプリケーションを動作させます。

## Spotify API仕様

### 検索機能
- **検索対象**: 曲名 / 歌手名
- **検索結果の件数制限**: 10件
- **取得する情報**: 曲名、アーティスト、アルバム画像、曲ID
- **検索方法**: 文字入力連動で検索結果をリアルタイム表示、クリックでレパートリーに追加

## 編集可能項目

- レパートリーID（追加、削除）
- お気に入り
- 上達度（0〜3）
- キー（-7〜+7）

## 今後の予定

- Vue.jsを使用したSPA化（現在は段階的に実装中）

## 開発メモ

- Laravel初心者向けに段階的に開発を進めています
- 現在Vueは導入済みですが、最終的なSPA化は今後実装予定です

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
